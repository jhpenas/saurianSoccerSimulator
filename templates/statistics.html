{% extends "layout.html" %}

{% block title %}
    Statistics
{% endblock %}

{% block main %}
    <h1>{{team}}</h1>
    <h5>{{league}}</h5>
    <h6>{{season[0]}} to {{season[1]}}</h6>
    <br>
    <div>
        <h3>Home</h3>
        <canvas id="home_chart" width="600" height="400"></canvas>
            <script>
              var pieData = [
                {% for item, label, colors in set1 %}
                  {
                    value: {{item}},
                    label: "{{label}}",
                    color : "{{colors}}"
                  },
                {% endfor %}
              ];

              // draw pie chart
              new Chart(document.getElementById("home_chart").getContext("2d")).Pie(pieData);

            </script>
    </div>
    <br>
    <br>
    <div>
        <h3>Away</h3>
        <canvas id="away_chart" width="600" height="400"></canvas>
        <script>
          var pieData = [
            {% for item, label, colors in set2 %}
              {
                value: {{item}},
                label: "{{label}}",
                color : "{{colors}}"
              },
            {% endfor %}
          ];

          // draw pie chart
          new Chart(document.getElementById("away_chart").getContext("2d")).Pie(pieData);

        </script>
    </div>
    <br>
    <br>
    <div>
        <h3>Performance Through Seasons % (Home)</h3>
        <canvas id="season_chart_home" width="600" height="400"></canvas>
        <script>
              // bar chart data
              var barData = {
                labels : [
                  {% for item in home_season_labels %}
                    "{{ item }}",
                  {% endfor %}
                ],

                datasets : [{
                  fillColor: "rgba(151,187,205,0.2)",
                  strokeColor: "rgba(151,187,205,1)",
                  pointColor: "rgba(151,187,205,1)",
                  pointStrokeColor: "#fff",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(151,187,205,1)",
                  bezierCurve : false,
                  data : [
                {% for item in home_season_values %}
                      {{ item }},
                    {% endfor %}]
                  }
            ]
              }

              Chart.defaults.global.animationSteps = 50;
              Chart.defaults.global.tooltipYPadding = 16;
              Chart.defaults.global.tooltipCornerRadius = 0;
              Chart.defaults.global.tooltipTitleFontStyle = "normal";
              Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
              Chart.defaults.global.animationEasing = "easeOutBounce";
              Chart.defaults.global.responsive = false;
              Chart.defaults.global.scaleLineColor = "black";
              Chart.defaults.global.scaleFontSize = 16;

              // get bar chart canvas
              var mychart = document.getElementById("season_chart_home").getContext("2d");

              steps = 10
              max = 100
              // draw bar chart
              var LineChartDemo = new Chart(mychart).Line(barData, {
                scaleOverride: true,
                scaleSteps: steps,
                scaleStepWidth: Math.ceil(max / steps),
                scaleStartValue: 0,
                scaleShowVerticalLines: true,
                scaleShowGridLines : true,
                barShowStroke : true,
                scaleShowLabels: true,
                bezierCurve: false,
              });

        </script>
    </div>
    <br>
    <br>
    <div>
        <h3>Performance Through Seasons % (Away)</h3>
        <canvas id="season_chart_away" width="600" height="400"></canvas>
        <script>
              // bar chart data
              var barData = {
                labels : [
                  {% for item in away_season_labels %}
                    "{{ item }}",
                  {% endfor %}
                ],

                datasets : [{
                  fillColor: "rgba(151,187,205,0.2)",
                  strokeColor: "rgba(151,187,205,1)",
                  pointColor: "rgba(151,187,205,1)",
                  pointStrokeColor: "#fff",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(151,187,205,1)",
                  bezierCurve : false,
                  data : [
                {% for item in away_season_values %}
                      {{ item }},
                    {% endfor %}]
                  }
            ]
              }

              Chart.defaults.global.animationSteps = 50;
              Chart.defaults.global.tooltipYPadding = 16;
              Chart.defaults.global.tooltipCornerRadius = 0;
              Chart.defaults.global.tooltipTitleFontStyle = "normal";
              Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
              Chart.defaults.global.animationEasing = "easeOutBounce";
              Chart.defaults.global.responsive = false;
              Chart.defaults.global.scaleLineColor = "black";
              Chart.defaults.global.scaleFontSize = 16;

              // get bar chart canvas
              var mychart = document.getElementById("season_chart_away").getContext("2d");

              steps = 10
              max = 100
              // draw bar chart
              var LineChartDemo = new Chart(mychart).Line(barData, {
                scaleOverride: true,
                scaleSteps: steps,
                scaleStepWidth: Math.ceil(max / steps),
                scaleStartValue: 0,
                scaleShowVerticalLines: true,
                scaleShowGridLines : true,
                barShowStroke : true,
                scaleShowLabels: true,
                bezierCurve: false,
              });

        </script>
    </div>
    <br>
    <br>
    <div>
        <h3>Performance Through Seasons % (Total)</h3>
        <canvas id="season_chart_total" width="600" height="400"></canvas>
        <script>
              // bar chart data
              var barData = {
                labels : [
                  {% for item in total_season_labels %}
                    "{{ item }}",
                  {% endfor %}
                ],

                datasets : [{
                  fillColor: "rgba(151,187,205,0.2)",
                  strokeColor: "rgba(151,187,205,1)",
                  pointColor: "rgba(151,187,205,1)",
                  pointStrokeColor: "#fff",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(151,187,205,1)",
                  bezierCurve : false,
                  data : [
                {% for item in total_season_values %}
                      {{ item }},
                    {% endfor %}]
                  }
            ]
              }

              Chart.defaults.global.animationSteps = 50;
              Chart.defaults.global.tooltipYPadding = 16;
              Chart.defaults.global.tooltipCornerRadius = 0;
              Chart.defaults.global.tooltipTitleFontStyle = "normal";
              Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
              Chart.defaults.global.animationEasing = "easeOutBounce";
              Chart.defaults.global.responsive = false;
              Chart.defaults.global.scaleLineColor = "black";
              Chart.defaults.global.scaleFontSize = 16;

              // get bar chart canvas
              var mychart = document.getElementById("season_chart_total").getContext("2d");

              steps = 10
              max = 100
              // draw bar chart
              var LineChartDemo = new Chart(mychart).Line(barData, {
                scaleOverride: true,
                scaleSteps: steps,
                scaleStepWidth: Math.ceil(max / steps),
                scaleStartValue: 0,
                scaleShowVerticalLines: true,
                scaleShowGridLines : true,
                barShowStroke : true,
                scaleShowLabels: true,
                bezierCurve: false,
              });

        </script>
    </div>

{% endblock %}
